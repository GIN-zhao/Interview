\documentclass{article}
\usepackage{graphicx}
\usepackage{enumerate}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{hyperref}

\usepackage{amssymb}

\usepackage{amsmath}  

\usepackage{algorithmic}
\usepackage{algorithm}  
% \usepackage{algpseudocode}  
\usepackage{amsmath}  
\renewcommand{\algorithmicrequire}{\textbf{Input:}}  % Use Input in the format of Algorithm  
\renewcommand{\algorithmicensure}{\textbf{Output:}} % Use Output in the format of Algorithm    
\usepackage{listings}
\usepackage{url}

\usepackage{etoolbox}
\newtoggle{solution}
\toggletrue{solution}
%\togglefalse{solution}
\usepackage{color}

\usepackage{listings}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Python,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

\newcommand{\solution}[2][0pt]{\iftoggle{solution}{\smallskip{\color{red}{\flushleft\textbf{Solution}:}\par#2}}{\vspace*{#1}}}
\renewcommand{\baselinestretch}{1.2}%Adjust Line Spacing
%\geometry{left=2.0cm,right=2.0cm,top=2.0cm,bottom=2.0cm}% Adjust Margins of the File

% Create horizontal rule command with an argument of height
\newcommand{\horrule}[1]{\rule{\linewidth}{#1}}
% Set the title here
\title{
    \normalfont \normalsize
    \textsc{ShanghaiTech University} \\ [25pt]
    \horrule{0.5pt} \\[0.4cm] % Thin top horizontal rule
    \huge CS240 Algorithm Design and Analysis \\ % The assignment title
    \LARGE Fall 2023\\
    \LARGE Problem Set 4\\
    \horrule{2pt} \\[0.5cm] % Thick bottom horizontal rule
}
\author{}
\date{Due: 23:59, Jan. 19, 2024}

% Add the support for auto numbering
% use \problem{title} or \problem[number]{title} to add a new problem
% also \subproblem is supported, just use it like \subsection
\newcounter{ProblemCounter}
\newcounter{oldvalue}
\newcommand{\problem}[2][-1]{
	\setcounter{oldvalue}{\value{secnumdepth}}
	\setcounter{secnumdepth}{0}
	\ifnum#1>0
		\setcounter{ProblemCounter}{#1}
	\else
		\stepcounter{ProblemCounter}
	\fi
	\section{Problem \arabic{ProblemCounter}: #2}
	\setcounter{secnumdepth}{\value{oldvalue}}
}
\newcommand{\subproblem}[1]{
	\setcounter{oldvalue}{\value{section}}
	\setcounter{section}{\value{ProblemCounter}}
	\subsection{#1}
	\setcounter{section}{\value{oldvalue}}
}

\begin{document}
\maketitle
\vspace{3ex}

\begin{enumerate}
%\item Please write your solutions in English. 
\item Submit your solutions to Gradescope (www.gradescope.com).
\item In ``Account Settings'' of Gradescope, set your FULL NAME to your Chinese name and enter your STUDENT ID correctly. 
\item If you want to submit a handwritten version, scan it clearly. Camscanner is recommended. 
\item When submitting your homework, match each of your solution to the corresponding problem number. 
%\item Violations to any of above may result in some penalty on your score. 
\end{enumerate}


\newpage
\problem{}
If the set of stack operations included a MULTIPUSH operation, which pushes $k$ items onto the stack. Analyze the amortized cost of stack operations (including PUSH, POP, MULTIPOP and MULTIPUSH).

\begin{lstlisting}
MULTIPUSH(S, a, k)
    While k > 0 
        PUSH(S, a[k])
        k = k - 1
\end{lstlisting}


\newpage
\problem{}
Suppose we perform a sequence of $n$ operations on a data structure in which the $ith$ operation costs $i$ if $i$ is an exact power of 3, and 1 otherwise. Use aggregate analysis to determine the amortized cost per operation. 

\newpage
\problem{}
Given a set of positive integers, $A={a_1,a_2,...,a_n}$. And a positive integer B. A subset $S \in A$ is GOOD if 
$$
\sum_{a_i\in S} a_i \leq B
$$


Given an approximation algorithm that it returns a GOOD subset whose total sum is at least half as large as the maximum total sum of any GOOD subset, with the running time  at most $O(n logn)$


\newpage

\problem{}
An undirected graph G = (V, E) with node
set V and edge set E is given. The goal is to color the edges of G using as few colors as possible
such that no two edges of the same color are incident to a common node. Let OPT(G) denote the
minimum number of different colors needed for coloring the edges of G.


Show that there exists a Greedy algorithm that needs at most 2 Â· OPT(G)- 1 different colors for
any graph G. Prove that your algorithm always obtains a valid solution, i.e., no two edges of the
same color are incident to a common node

\newpage
\problem{}
Given a function rand2() that returns 0 or 1 with equal probability, implement rand3() using rand2() that returns 0, 1 or 2 with equal probability. Minimize the number of calls to rand2() method. Prove the correctness.


\newpage

\problem{}
Assume that you have a function \texttt{randM()} which returns an integer between 0 and $M-1$ (inclusive) with equal probability. Write an algorithm using the \texttt{randM()} function to implement a \texttt{randN()} function, where $N$ is not necessarily a multiple of $M$, but \texttt{randN()} needs to return an integer between 0 and $N-1$ with equal probability.

\end{document}
